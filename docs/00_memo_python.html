
<!DOCTYPE HTML>
<html>
 <head>
  <meta charset="utf-8"/>
  <title>Rappel Python</title>
  <link type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/github.min.css" rel="stylesheet"/>
  <link type="text/css" href="https://docs.3liz.org/remarkable.css" rel="stylesheet"/>
  <link type="image/png" href="logo.png" rel="icon" >
 </head>
 <body>
 <header class="header-container" style="">
    <h1>Rappel Python</h1>
 </header>
 <article>
<div class="toc"><span class="toctitle">Table of content</span><ul>
<li><a href="#introduction-au-language-python">Introduction au language Python</a><ul>
<li><a href="#quest-ce-que-python">Qu'est-ce que Python ?</a></li>
<li><a href="#versions">Versions</a></li>
<li><a href="#rappel-de-base-sur-python">Rappel de base sur Python</a><ul>
<li><a href="#les-types-de-donnees">Les types de données :</a></li>
<li><a href="#les-structures-de-donnees">Les structures de données</a></li>
<li><a href="#les-commentaires">Les commentaires</a></li>
<li><a href="#arithmetique">Arithmétique</a></li>
<li><a href="#operateurs-logiques">Opérateurs logiques</a></li>
<li><a href="#condition">Condition</a></li>
<li><a href="#boucle-for">Boucle for</a></li>
<li><a href="#recherche-dun-element">Recherche d'un élément</a></li>
<li><a href="#boucle-while">Boucle while</a></li>
<li><a href="#list-comprehensions">List Comprehensions</a></li>
<li><a href="#manipulation-sur-les-chaines-de-caracteres">Manipulation sur les chaînes de caractères</a></li>
<li><a href="#fonctions">Fonctions</a></li>
<li><a href="#truc-et-astuces">Truc et astuces</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="introduction-au-language-python">Introduction au language Python</h1>
<h2 id="quest-ce-que-python">Qu'est-ce que Python ?</h2>
<ul>
<li>Multi-usage (WEB, application graphique, script, serveur etc)</li>
<li>Programmation Orientée Objet (POO)<ul>
<li>Tout est objet</li>
</ul>
</li>
<li>Interprété</li>
<li>Centré sur la lecture et la productivité<ul>
<li>Syntaxe du code simple</li>
</ul>
</li>
<li>Grosse communauté<ul>
<li>De nombreux packages disponibles sur internet</li>
<li><a href="https://pypi.org/">https://pypi.org/</a></li>
</ul>
</li>
</ul>
<h2 id="versions">Versions</h2>
<ul>
<li>Python 2<ul>
<li>Sortie en 2000</li>
<li>Il est encore très utilisé, notamment sur les tutoriels sur internet et quelques projets qui tardent à
 se mettre à jour</li>
<li>Une adoption massive (QGIS 2)</li>
<li>Dernière version le 1 janvier 2020 !</li>
</ul>
</li>
<li>Python 3<ul>
<li>Sortie en 2008, mais il s'agit d'une adoption très lente, tellement Python 2 a été massivement adopté.</li>
<li>Dernière version 3.8.0 du 14 octobre 2019</li>
<li>QGIS 3 requière Python 3.5 minimum</li>
</ul>
</li>
</ul>
<h2 id="rappel-de-base-sur-python">Rappel de base sur Python</h2>
<h3 id="les-types-de-donnees">Les types de données :</h3>
<p>Une variable peut contenir un entier, un booléen (<code>True</code> ou <code>False</code>), chaîne de caractères, nombre décimal, un
objet...
Il y a un faible typage des variables, c'est-à-dire qu'une variable peut changer de type au cours de l'exécution
du programme.</p>
<pre><code class="python">mon_compteur = 0
type(mon_compteur)
&lt;class 'int'&gt;
mon_compteur = False
type(mon_compteur)
&lt;class 'bool'&gt;
mon_compteur = 'oui'
type(mon_compteur)
&lt;class 'str'&gt;
mon_compteur = &quot;non&quot;
type(mon_compteur)
&lt;class 'str'&gt;
mon_compteur = 3.5
type(mon_compteur)
&lt;class 'float'&gt;
mon_compteur = None
type(mon_compteur)
&lt;class 'NoneType'&gt;

</code></pre>

<h3 id="les-structures-de-donnees">Les structures de données</h3>
<p>Il existe quatre types de structure de données :
* les variables simples (ci-dessus)
* les tuples (non modifiables)</p>
<pre><code class="python">liste_vide = ()
liste = (1 , 2, 3, 'bonjour')
type(liste)
&lt;class 'tuple'&gt;
len(liste)
4
liste[0]
1
liste[0:2]
(1, 2)
liste[2:]
(3, 'bonjour')
liste[5]
Traceback (most recent call last):
  File &quot;/usr/lib/python3.7/code.py&quot;, line 90, in runcode
    exec(code, self.locals)
  File &quot;&lt;input&gt;&quot;, line 1, in &lt;module&gt;
IndexError: tuple index out of range

</code></pre>

<ul>
<li>les listes (modifiables)</li>
</ul>
<pre><code class="python">nombres = []
type(nombres)
&lt;class 'list'&gt;
nombres.append(1)
nombres.extend([2, 3, 4])
nombres
[1, 2, 3, 4]

</code></pre>

<ul>
<li>les dictionnaires</li>
</ul>
<p><em>Attention</em>, les dictionnaires ne sont pas ordonnés !
Si vraiment il y a besoin, il existe une classe <code>OrderedDict</code>, mais ce n'est pas un structure de données natif
dans Python.
C'est un objet.</p>
<pre><code class="python">personne = {}
type(personne)
# &lt;class 'dict'&gt;
personne['prenom'] = 'etienne'
personne['nom'] = 'trimaille'
personne['est_majeur'] = True
personne['age'] = 30
</code></pre>

<h3 id="les-commentaires">Les commentaires</h3>
<pre><code class="python"># Ceci est un commentaire sur une ligne
/*
Ceci est
un commentaire
sur plusieurs lignes
*/

&quot;&quot;&quot;Ces lignes sont réservés pour la documentation de l'API et ne doient pas être des lignes de commentaires.&quot;&quot;&quot;

</code></pre>

<h3 id="arithmetique">Arithmétique</h3>
<pre><code class="python">a = 10
a += 1
a -= 1
b = a + 1
c = a - 1
d = a * 2
e = a / 2
f = a % 3  # 1
g = a ** 2  # 100
</code></pre>

<h3 id="operateurs-logiques">Opérateurs logiques</h3>
<pre><code class="python">a &gt; b
a &gt;= b
a &lt; b
a &lt;= b
a == b
a != b
a is b
a is not b
a in b
0 &lt; a &lt; 10
</code></pre>

<h3 id="condition">Condition</h3>
<p><strong>Important</strong>, Python oblige l'indentation sinon il y a une erreur. Par convention, il s'agit de 4 espaces. </p>
<pre><code class="python">note = 13
if note &gt;= 16:
    if note == 20:
        print('Toutes mes félicitations')
    else:
        print('Félicitations')
elif 14 &lt;= note &lt; 16:
    print('Très bien')
elif 12 &lt;= note &lt; 14:
    print('Bien')
else:
    print('Peu mieux faire')
</code></pre>

<h3 id="boucle-for">Boucle for</h3>
<pre><code class="python">for x in range(10):
    print(x)

countries = ['Allemagne', 'Espagne', 'France']
for country in countries:
    print('Pays : {}'.format(country))

regions = {
    'Auvergne-Rhône-Alpes': 'Lyon',
    'Bourgogne-Franche-Comté': 'Dijon',
    'Bretagne': 'Rennes',
    'Centre-Val de Loire': 'Orléans',
}

for region in regions:
    print(region)

for region in regions.keys():
    print(region)

for city in regions.values():
    print(city)

for region, city in regions.items():
    print('Région {} dont le chef lieu est {}'.format(region, city))
</code></pre>

<h3 id="recherche-dun-element">Recherche d'un élément</h3>
<pre><code class="python">countries = ['Allemagne', 'Espagne', 'France']

# Solution simple
if 'Allemagne' in countries:
    print('Présent')
else:
    print('Non présent')

# Plus complexe, avec une fonction pour les minuscules
present = False
for country in countries:
    if country.lower() == 'allemagne'
        present = True
if present:
    print('Présent')
else:
    print('Non présent')

# Le plus pythonique
for country in countries:
    if country.lower() == 'allemagne'
        print('Présent')
        break
else:
    print('Non présent')

</code></pre>

<h3 id="boucle-while">Boucle while</h3>
<pre><code class="python">x = 0
while x &lt; 10:
    print(x)
    x += 1
</code></pre>

<ul>
<li>En Python, il n'y a pas de boucle <code>do ... while</code>, à la place, on peut faire ainsi :</li>
</ul>
<pre><code class="python">executer_une_fonction()
while not conditon_echec:
    executer_une_fonction()
</code></pre>

<h3 id="list-comprehensions">List Comprehensions</h3>
<p>C'est une façon très pythonique et très utilisée de créer des listes.
Par exemple, créer une liste des nombres impaires entre 1 et 9 :</p>
<pre><code class="python"># Non pythonique
impair = []
for x in range(10):
    if x % 2:
        impair.append(x)

# Pythonique
impair = [x for x in range(10) if x % 2]
</code></pre>

<ul>
<li>Il existe aussi les Dict Comprehensions (moins utilisé)</li>
</ul>
<h3 id="manipulation-sur-les-chaines-de-caracteres">Manipulation sur les chaînes de caractères</h3>
<ul>
<li>Pour information, les chaînes de caractères sont des listes.</li>
</ul>
<pre><code class="python">alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
len(alphabet)
','.join(alphabet)
alphabet.lower()
alphabet[1]  # B
alphabet[1:3]  # BC
alphabet[-1]  # Z
alphabet[-3:]  # XYZ
alphabet[:6]  # ABCDEF
</code></pre>

<h3 id="fonctions">Fonctions</h3>
<ul>
<li>Voici des exemples de fonction Python.
<em>Encore une fois</em>, attention à l'indentation.</li>
</ul>
<pre><code class="python">def ajouter(x, y):
    &quot;&quot;&quot;Ajouter deux nombres.&quot;&quot;&quot;
    return x + y

def crier(phrase='bonjour'):
    print(phrase.upper())

def discuter(texte, personnage='Charles'):
    &quot;&quot;&quot;Un personnage discute.&quot;&quot;&quot;
    print('{}: &quot;{}&quot;'.format(personnage, texte))
</code></pre>

<ul>
<li>Une fonction peut retourner plusieurs valeurs:</li>
</ul>
<pre><code class="python">def decomposer(entier, diviser_par):
    &quot;&quot;&quot;Retourne la partie entière et le reste d'une division.&quot;&quot;&quot;
    partie_entiere = entier / diviser_par
    reste = entier % diviser_par
    return partie_entiere, reste
</code></pre>

<ul>
<li>Il se peut que l'on ne connaisse pas à l'avance le nombre précis d'arguments dans une fonction.<ul>
<li><code>args</code> est utilisé pour passer un nombre indéterminé d'argument à la fonction</li>
<li><code>kwargs</code> est utilisé pour un nombre indéterminé d'arguments nommés</li>
</ul>
</li>
</ul>
<pre><code class="python">def une_fonction(*args, **kwargs):
    print('Les arguments')
    for arg in args:
        print(arg)
    print('Les arguments non nommés')
    for key, value in kwargs.items():
        print('{} -&gt; {}'.format(key, value))

une_fonction(1,2,3, text='Ma phrase')
</code></pre>

<h3 id="truc-et-astuces">Truc et astuces</h3>
<p>Attention au passage par référence :</p>
<pre><code class="python">ma_liste_1 = [1, 2, 3]
ma_liste_2 = ma_liste_1
ma_liste_2.append(4)
print(ma_liste_2)
print(ma_liste_1)
</code></pre>

<p>Avoir un compteur lors de l'itération d'une liste :</p>
<pre><code class="python">users = ['Tom', 'James', 'John']
for i, user in enumerate(users):
    print('{} -&gt; {}'.format(i + 1, user))
</code></pre>

<p><a href="./readme.html">Retour</a></p>
  </article>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js">
  </script>
  <script>
   hljs.initHighlightingOnLoad();
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript">
  </script>
  <script type="text/javascript">
   MathJax.Hub.Config({"showProcessingMessages" : false,"messageStyle" : "none","tex2jax": { inlineMath: [ [ "$", "$" ] ] }});
  </script>
 </body>
</html>
